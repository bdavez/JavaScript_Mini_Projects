<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ajax</title>
</head>

<body>


    <script>
    // Fetching from URL and returning json 
    fetch('https://jsonplaceholder.typicode.com/users')
    .then(function(response) {
        return response.json();
    })
    // Get Data
    .then(function(data) {
        console.log(data);
    for (var i=0; i<data.length; i++) {
    console.log(data[i].username);
        }

    })
    // using fetch api to send data
    // 1. Create content that you want to send

    var user = {
        username: "billy",
        id: 780
    }

    // fetch the url 
    fetch('https://jsonplaceholder.typicode.com/users', {

        //set your method
        method: 'POST',

        //Set your headers
        headers: {
            'Content-Type': 'application/json'
        },

        body: JSON.stringify(user)
    })
    .then(function(response) {
        return response.json();
    })
    .then(function(data) {
        console.log(data);
    })
      
    
    // Handling Errors with fetch 
    fetch('http://jsonplaceholder.typicode.com/404')
    .then(function(response) {
    if (!response.ok) {
    throw Error(response.statusText);
    }
    return response.json();
    })
    .then(function(data) {
    console.log(data);
    })
    .catch(function(error) {
    console.log("The error is: ",error);
    })
    </script>
</body>

</html>